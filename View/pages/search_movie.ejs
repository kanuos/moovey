<%- include('../partials/head')%>
<body class="min-h-screen font-regular relative bg-gray-100">
    <!-- navbar -->
    <%- include('../partials/navbar')%>
    <!-- header -->
    <header class="my-4 p-2 flex flex-col items-center">
        <h1 class="font-special text-3xl mt-9 lg:mt-12 capitalize text-center">
            search movie
        </h1>
        <small class="text-xs text-center block text-gray-400 tracking-wide w-5/6 max-w-xl break-words mx-auto my-2 font-light">
            <% if (message.length > 0) { %>
                <%= message %>
            <% } else { %>
                Search the title of the movie/series here
            <% } %>
        </small>
        <form 
            method="POST"
            action="/moovey/search" 
            class="w-11/12 my-2 max-w-lg mx-auto flex items-center justify-self-center relative">
            <input 
                type="text" 
                name="keyword"
                placeholder="Search Movie"
                class="p-2.5 pr-8 text-sm w-full block rounded-md shadow-md outline-none focus:outline-none focus:shadow-2xl focus:scale-x-105 transform transition-all duration-200 focus:text-gray-600 focus:placeholder-gray-600">
            <button type="submit" class="text-gray-700 z-10 absolute right-2 top-1/2 transform 
            -translate-y-1/2 outline-none focus:outline-none focus:scale-125 hover:scale-125">
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg>
            </button>
            <!-- on submit change the above button icon with loader icon with animation infinite till new page loads -->
        </form>
    </header>

    <main class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 my-4 mx-auto max-w-7xl min-h-screen">
        <% if (data.length > 0) {%>
            <% data.forEach(datum => { %>
                <a href="/moovey/new-review?imdbID=<%= datum.imdbid %>">
                    <%- include('../partials/movie_thumbnail', {movie : datum}) %>
                </a>
            <% }) %>
        <% } %>
    </main>

    <script src="/static/js/index.js"></script>
    <script src="/static/js/navScroll.js"></script>
<!-- footer -->
<%- include('../partials/footer') %>