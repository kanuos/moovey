<%- include('../../partials/head') %>
<body class="font-special relative w-full h-full custom-scrollbar">

<%- include('../../partials/navbar') %>


<%- include('../../partials/dashboard/dashboard-sidebar') %>

<header class="pt-20"></header>

<main id="main" class="pl-4 md:pl-8 filter flex flex-col w-11/12 mx-auto h-full min-h-screen ">
    

        <a href="/dashboard/my-lists/new" class="bg-black focus:outline-none hover:-translate-y-px hover:scale-105 mb-6 outline-none px-4 py-2 text-white text-xs transform transition-all block mx-auto w-max hover:shadow-lg">Create New List
        </a>
        <!-- items list -->
        <table class="table w-full table-auto md:table-fixed border-separate max-w-6xl mx-auto">
            <thead class="capitalize text-pink-600">
                <tr>
                    <th class="text-sm md:text-base font-semibold font-special text-left w-2/3 md:w-4/6">title</th>
                    <th class="text-sm md:text-base font-semibold font-special text-left w-1/3 md:w-1/6">created on</th>
                    <th class="hidden md:table-cell text-sm md:text-base font-semibold font-special text-left md:w-1/6">action</th>
                </tr>
            </thead>
            <tbody>
                <!-- table row element -->
                <% if(lists.length > 0) {%>
                    <% lists.forEach(list => {%>
                <tr class="table-row-group md:pb-6">
                    <!-- row metadata -->
                    <tr>
                        <td class="text-sm md:text-base p-2 font-special font-semibold border border-gray-300 md:w-4/6">
                            <%= list.title %>
                        </td>
                        <td class="text-sm md:text-base p-2 font-special font-semibold border border-gray-300 md:w-1/6">
                            <%= new Date(list.date_created).toLocaleDateString() %>
                        </td>
                        <td class="hidden md:table-cell text-sm md:text-base p-2 font-special font-semibold border border-gray-300 md:w-1/6">
                            <ul class="flex flex-col items-center justify-center">
                                <li>
                                    <a href="/dashboard/my-lists/<%= list.lid %>" class="font-semibold font-regular capitalize">
                                        go to list
                                    </a>
                                </li>
                                <li>
                                    <a href="/dashboard/my-lists/<%= list.lid %>/edit" class="font-semibold font-regular capitalize">
                                        edit list
                                    </a>
                                </li>
                            </ul>
                        </td>
                    </tr>
                    <!-- row description -->
                    <tr class="hidden md:table-row md:w-full">
                        <td class="text-sm md:text-base font-special font-semibold text-gray-500 md:pb-4">
                            <% if (list.l_desc.length > 0) {%>
                                <%= list.l_desc %>
                            <% } else {%>
                                No description available
                            <% } %>
                        </td>
                    </tr>
                    <!-- row description for mobile only -->
                    <tr class="md:hidden">
                        <td class="pb-6 block text-center text-sm md:text-base text-black font-semibold capitalize w-full">
                            <details class="w-full mt-2">
                                <summary class="text-left w-max font-semibold">
                                    show more
                                </summary>
                                <p class="w-full text-left mt-2 mb-4 text-gray-500">
                                    <% if (list.l_desc.length > 0) {%>
                                        <%= list.l_desc %>
                                    <% } else {%>
                                        No description available
                                    <% } %>
                                </p>
                                <ul class="flex flex-col items-center justify-center">
                                    <li>
                                        <a href="/dashboard/my-lists/<%= list.lid %>" class="font-semibold font-regular capitalize">
                                            go to list
                                        </a>
                                    </li>
                                    <li>
                                        <a href="/dashboard/my-lists/<%= list.lid %>/edit" class="font-semibold font-regular capitalize">
                                            edit list
                                        </a>
                                    </li>
                                </ul>
                            </details> 
                        </td>
                    </tr>                          
                </tr>
                    <% }) %>
                <!-- table row element end -->
                <% } else {%>
                    <p>
                        you haven't created a list yet. 
                    </p>
                <% } %>


            </tbody>
        </table>

<div class="mt-auto">
    <%- include('../../partials/pagination') %>
</div>
        
    </main>
    <script src="/static/js/navbar.js"></script>
    <script src="/static/js/dashboard-sidebar.js"></script>
</body>
</html>